#!/usr/bin/env sh

OUT=busybox-test.yml
: > "$OUT"  # truncate file

for i in $(seq 0 99); do
  cat >> "$OUT" <<EOF
---
apiVersion: apps/v1
kind: Deployment
metadata:
  labels:
    app: busybox-$i
  name: busybox-$i
  namespace: solar-test
spec:
  replicas: 1
  selector:
    matchLabels:
      app: busybox-$i
  strategy: {}
  template:
    metadata:
      labels:
        app: busybox-$i
    spec:
      containers:
      - image: busybox:latest
        name: busybox-$i
        command:
          - "sleep"
          - "100"
        resources:
          requests:
            cpu: 1m
            memory: 16Mi
          limits:
            cpu: 10m
            memory: 32Mi

EOF
done
